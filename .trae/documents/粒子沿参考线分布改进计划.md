# 粒子沿参考线分布改进计划

## 现有问题分析
当前粒子系统已经实现了基本的星空效果和参考线，但粒子分布不够集中在参考线周围，视觉效果不够突出。

## 改进方案

### 1. 优化粒子生成算法
- 将粒子生成改为：先在参考线上均匀分布点，然后在垂直方向添加高斯分布偏移
- 减少Z轴深度范围，让粒子更集中在一个平面上，突出参考线效果
- 增加粒子到参考线距离的影响权重，使靠近参考线的粒子更亮更大

### 2. 增强视觉效果
- 根据粒子到参考线的距离调整粒子大小
- 增加粒子大小的随机性，模拟真实星空中星星大小的差异
- 增强参考线周围的粒子密度，形成更明显的银河带

### 3. 优化性能
- 减少不必要的计算，特别是距离计算
- 优化高斯分布函数，确保粒子分布更加自然

## 实现步骤

1. **修改粒子生成逻辑**（第83-165行）：
   - 将X坐标生成改为基于参考线参数t的均匀分布
   - 直接使用参考线的点作为基础位置，然后添加垂直偏移
   - 减少Z轴深度范围，增强平面效果

2. **增强粒子大小变化**（第170-176行）：
   - 添加sizeAttenuation: true
   - 根据距离参考线的距离调整粒子大小
   - 增加粒子大小的随机性

3. **优化距离计算**（第117-123行）：
   - 简化距离计算，直接使用垂直距离而不是三维距离
   - 减少计算复杂度，提高性能

4. **调整粒子颜色分布**（第129-157行）：
   - 增强参考线附近的白色和蓝色星星比例
   - 减少紫色和黄色星星的比例，使银河带更加明显

5. **添加粒子动画效果**（第229-238行）：
   - 让粒子围绕参考线有轻微的波动效果
   - 增强星空的流动感，模拟银河的缓慢旋转

## 预期效果
- 粒子将更加集中地分布在参考线周围，形成明显的银河带
- 参考线附近的粒子更亮更大，视觉层次更加分明
- 整体效果更加符合真实银河的形态，具有更强的视觉冲击力
- 性能优化后，动画更加流畅，交互体验更好